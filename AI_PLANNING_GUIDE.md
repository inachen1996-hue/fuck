# AI智能规划功能使用指南

## 功能概述
AI智能规划功能集成了DeepSeek API，可以根据你的任务、生活状态和精神状态，智能生成今日时间安排。

## 使用步骤

### 1. 添加今日任务
在"智能规划"页面，点击"添加新任务"输入框：
- 输入任务名称
- 系统默认每个任务25分钟
- 可以添加多个任务

### 2. 设置生活状态
选择今天需要安排的生活事项：
- 🍳 早餐
- 🍽️ 午餐
- 🍜 晚餐
- 🚿 晨洗

未勾选的项目会被AI自动安排到时间表中。

### 3. 选择精神状态
根据当前状态选择：
- ⚡ 充沛：AI会安排更多高强度任务
- 😊 正常：平衡的任务安排
- 😴 疲惫：AI会增加休息时间，降低任务强度

### 4. 设置睡觉时间
选择你计划的睡觉时间，AI会确保所有安排在此之前完成。

### 5. 生成AI规划
点击"生成 AI 规划"按钮：
- AI会分析你的输入参数
- 调用DeepSeek API生成个性化时间安排
- 显示详细的时间表，包括开始时间、结束时间和时长

## API配置

当前使用的DeepSeek API配置：
- API地址：`https://api.deepseek.com/v1/chat/completions`
- 模型：`deepseek-chat`
- API Key：已配置在代码中

## 生成的时间表特点

AI生成的时间表会包含：
- 🎯 专注任务（pomodoro类型）
- 🍽️ 生活事项（life类型）
- ☕ 休息时间（rest类型）

每个时间段都会显示：
- 任务名称
- 开始和结束时间
- 持续时长
- 对应的图标

## 注意事项

1. **网络连接**：需要稳定的网络连接来调用DeepSeek API
2. **任务数量**：建议添加3-8个任务，过多可能导致时间安排过于紧凑
3. **时间合理性**：确保当前时间到睡觉时间之间有足够的时间完成所有任务
4. **错误处理**：如果API调用失败，会显示错误提示并返回设置页面

## 技术实现

- 使用fetch API调用DeepSeek接口
- 构建详细的prompt包含所有用户输入
- 解析JSON格式的AI响应
- 转换时间格式为时间戳
- 实时显示生成状态

## 示例场景

**场景1：工作日早晨**
- 任务：写报告(45分钟)、开会(30分钟)、回复邮件(25分钟)
- 生活状态：需要午餐
- 精神状态：充沛
- 睡觉时间：23:00

AI会生成从当前时间开始的合理安排，包括工作任务、午餐时间和适当的休息。

**场景2：疲惫的下午**
- 任务：整理文档(30分钟)、学习新技能(25分钟)
- 生活状态：需要晚餐
- 精神状态：疲惫
- 睡觉时间：22:00

AI会增加休息时间，合理分配任务，确保不会过度疲劳。
